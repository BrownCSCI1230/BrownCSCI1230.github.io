<!DOCTYPE html>
    <html lang="en">
      <head><link rel="stylesheet" type="text/css" href="/assets/index.9059ccae.css">
        <meta charset="UTF-8">
        <title>Scenefile Documentation | CSCI 1230</title>
        <meta name="description" content="We teach computer graphics!">
        <meta name="keywords" content="Computer Science, Computer Graphics, CS 1230,CSCI 1230, Brown University, Providence">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
      </head>
      <body>
        <div id="root">
          <nav id="nav-bar"><div id="nav-bar-inner"><a id="logo" class="no-select" href="/" aria-label="home" style="--duration:450ms"><div id="logo-box-1"></div><div id="logo-box-2"></div><div id="logo-box-3"></div><div id="logo-box-4"></div><div id="logo-box-5"></div><div id="logo-box-6"></div></a><div id="nav-items"><a href="/" class="nav-item">Home</a><a href="/docs" class="nav-item">Docs</a><a href="/lectures" class="nav-item">Lectures</a><a href="/labs" class="nav-item">Labs</a><a href="/projects" class="nav-item">Projects</a></div></div></nav><div id="page" class=""><nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#scenefile-documentation">Scenefile Documentation</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#basic-structure">Basic Structure</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#general-format-in-xml">General Format in XML</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#details-of-xml-blocks">Details of XML Blocks</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#global-data">Global data</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#camera">Camera</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#lights">Lights</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#transformations">Transformations</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#objects">Objects</a></li></ol></li></ol></li></ol></nav><main>
<!-- -->
<h1 id="scenefile-documentation"><a href="#scenefile-documentation">Scenefile Documentation</a></h1>
<p>Scenefiles are the way we specify the information needed to generate a 3d scenes in this class. Once <a href="../labs/lab5">Lab 5</a> is released, you can also refer to it for complementary information.</p>
<h2 id="basic-structure"><a href="#basic-structure">Basic Structure</a></h2>
<p>The structure of the scene file is organized as a declaration of the global data, camera, lights, main objects/sub-scenegraphs, and special main object ‘root’/main scene graph. Both the main scene graphs&#x27; and sub-scenegraphs’ declarations are in the form of a tree. All sub-scenegraphs must be declared before the main scene graph. Within both the main scene graph and the sub-scenegraphs, a given subtree can contain any number of tranformation blocks which can be executed in any order, since they only affect the object contained in the tranformation block. The objects can either be actual physical objects that are represented in the scene, or a subtree that would inherit the transformation for all its children. Scenes are specified in <a href="https://en.wikipedia.org/wiki/XML">xml</a> format.</p>
<h2 id="general-format-in-xml"><a href="#general-format-in-xml">General Format in XML</a></h2>
<p>The general format of the file is as follows:</p>
<pre class="language-xml"><code class="language-xml code-highlight"><span class="code-line">&lt;<span class="pl-ent">scenefile</span>&gt;
</span><span class="code-line">	&lt;<span class="pl-ent">globaldata</span>&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">diffusecoeff</span> float/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">ambientcoeff</span> float/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">transparentcoeff</span> float/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">specularcoeff</span> float/&gt;
</span><span class="code-line">	&lt;/<span class="pl-ent">globaldata</span>&gt;
</span><span class="code-line">
</span><span class="code-line">	&lt;<span class="pl-ent">cameradata</span>&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">pos</span> vector/&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">focus</span> vector/&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">up</span> vector/&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">heightangle</span> float/&gt;
</span><span class="code-line">	&lt;/<span class="pl-ent">cameradata</span>&gt;
</span><span class="code-line">
</span><span class="code-line">	&lt;<span class="pl-ent">lightdata</span>&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">id</span> number/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">type</span> lighttype/&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">position</span> vector/&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">color</span> color/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">function</span> vector/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">direction</span> vector/&gt;
</span><span class="code-line">        &lt;<span class="pl-ent">penumbra</span> float/&gt;
</span><span class="code-line">	&lt;/<span class="pl-ent">lightdata</span>&gt;
</span><span class="code-line">
</span><span class="code-line">	&lt;<span class="pl-ent">object</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>tree<span class="pl-pds">&quot;</span></span> <span class="pl-e">name</span>=name&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">transblock</span>&gt;
</span><span class="code-line">			&lt;<span class="pl-ent">rotate</span> vector angle/&gt;
</span><span class="code-line">			&lt;<span class="pl-ent">translate</span> vector/&gt;
</span><span class="code-line">			&lt;<span class="pl-ent">scale</span> vector/&gt;
</span><span class="code-line">			&lt;<span class="pl-ent">matrix</span> matrix/&gt;
</span><span class="code-line">			...
</span><span class="code-line">			&lt;<span class="pl-ent">object</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>primitive<span class="pl-pds">&quot;</span></span> <span class="pl-e">object</span>=object&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">diffuse</span> color/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">specular</span> color/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">ambient</span> color/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">reflective</span> color/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">transparent</span> color/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">shine</span> float/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">blend</span> float/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">texture</span> float filename u v/&gt;
</span><span class="code-line">				&lt;<span class="pl-ent">bumpmap</span> float/&gt;
</span><span class="code-line">			&lt;/<span class="pl-ent">object</span>&gt;
</span><span class="code-line">			...
</span><span class="code-line">		&lt;/<span class="pl-ent">transblock</span>&gt;
</span><span class="code-line">		&lt;<span class="pl-ent">transblock</span>&gt;
</span><span class="code-line">			...
</span><span class="code-line">			&lt;<span class="pl-ent">object</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>tree<span class="pl-pds">&quot;</span></span> <span class="pl-e">name</span>=name&gt;
</span><span class="code-line">				...
</span><span class="code-line">			&lt;<span class="pl-ent">object</span>/&gt;
</span><span class="code-line">			...
</span><span class="code-line">		&lt;/<span class="pl-ent">transblock</span>&gt;
</span><span class="code-line">		...
</span><span class="code-line">	&lt;/<span class="pl-ent">object</span>&gt;
</span><span class="code-line">&lt;/<span class="pl-ent">scenefile</span>&gt;
</span></code></pre>
<p>The types are defined as follows:</p>
<ul>
<li><code>vector</code> — three floating point numbers representing a displacement, axis of rotation, scaling factors, or coefficients.</li>
<li><code>angle</code> — a single floating point number representing an angle, in degrees.</li>
<li><code>matrix</code> — 16 floating point numbers representing a matrix in row-major order.</li>
<li><code>lighttype</code> — one of the keywords for light types</li>
<li><code>color</code> — three floating point numbers representing a color in the red-green-blue (values 0-1) color space.</li>
<li><code>index</code> — a single floating point number representing some index or coefficient</li>
<li><code>name</code> — a unique string representing the name of the object. Can be used to instantiate the object later on. Omitting the name indicates that the object will not be instantiated again. Main objects/sub- scenegraphs must have names. The name <code>&quot;root&quot;</code> should be reserved for the main scene graph. The name <code>&quot;root&quot;</code> signifies that all the main objects/sub-scenegraphs have been declared.</li>
<li><code>object</code> — a string representing an object type. Can be one of: <code>cube</code>, <code>cylinder</code>, <code>cone</code>, <code>sphere</code>, <code>mesh</code> or <code>tree</code>. If it is <code>mesh</code>, then the filename of the mesh file must be the next attribute in the form <code>filename=&quot;filename&quot;</code>. Its properties are specified like a primitive’s.</li>
<li><code>filename</code> — the name of the file containing the bitmap used as a texture map for the object</li>
</ul>
<h2 id="details-of-xml-blocks"><a href="#details-of-xml-blocks">Details of XML Blocks</a></h2>
<h3 id="global-data"><a href="#global-data">Global data</a></h3>
<p>Your scenefile will still work if you leave this section out. It allows the scene file writer to specify certain constants used while rendering. Each of the coefficients has a certain place in the lighting equation. They are all floating point constants that are used to scale the diffuse, ambient, transparent, and specular components respectively. These constants are helpful for scenes with very few or very many lights.</p>
<h3 id="camera"><a href="#camera">Camera</a></h3>
<p>There can only be one camera in the scene. If none is specified a default camera will be used. In a camera block, there must be listed the position (<code>pos</code>), look vector (<code>look</code>), up vector (<code>up</code>), and height angle (<code>angle</code>). Note that it is possible to replace the look vector with a focal point (denoted by the keyword <code>focus</code>), if so desired.</p>
<h3 id="lights"><a href="#lights">Lights</a></h3>
<p>It is necessary for the light to have a particular type: <strong>point</strong>, <strong>directional</strong>, <strong>spot</strong> or <strong>area</strong>. If none is given, the light type will default to a point light. There can be up to 8 lights in the scene. The id of a particular light is specified by the number parameter (indexed from 0 to 7).
There are two parameters that must be defined for each point light. The first, <code>position</code>, is the actual position of the light in the scene. Directional lights will not have a position — they will have a vector <code>direction</code>. Spotlights, or cone shaped lights need both <code>position</code> and <code>direction</code>, as well as <code>penumbra</code>. The second parameter, <code>color</code>, is the color of the light, in rgb. Lastly, there is a parameter, <code>function</code>, that allows one to specify the coefficients of the lighting function. The three arguments are the coefficients of the constant, linear, and quadratic term, respectively.</p>
<h3 id="transformations"><a href="#transformations">Transformations</a></h3>
<p>Each object in the scene must be immediately surrounded by a transformation block. The first portion of a transformation block is a list of the transformations that will be applied to the object within. This list can be empty, though such is usually the case for only the top level transformation. This list can consist of any number of rotations, translations, scalings, and matrix multiplications. They will be composed in the order they are listed, meaning that <strong>the last transformation type listed will be the first to be applied to the enclosed object.</strong> The last part of a transformation block is the object itself. There can be only one object, and nothing should follow the object. If anything is found after the first object in a translation block, it should be ignored.</p>
<h3 id="objects"><a href="#objects">Objects</a></h3>
<p>There are four kinds of object primitives, which can be divided into three distinct types: groupings of objects, instances of main objects, and object primitives. The first type, “groupings,” consists solely of the <code>tree</code> object, which simply contains any number of transformation blocks. The second, “instances,” allows you to reuse an already defined master object, the name of which is specified in the <em>name</em> field. Primitives are those which represent three-dimensional shapes, namely, <code>cubes</code>, <code>cylinders</code>, <code>cones</code>, <code>spheres</code>, and <code>meshes</code>.
Primitives contain in their block a combination of surface characteristic definitions: diffuse color <code>diffuse</code>, ambient color hack <code>ambient</code>, reflected color <code>reflective</code>, specular color <code>specular</code>, specular exponent <code>shininess</code>, transparency <code>transparent</code>, and index of refraction <code>ior</code>. There is also the ability to provide texture to object using a bitmap. This behavior is added using the <code>texture</code> keyword with the name of the file containing the bitmap as well as coefficients for the scaling of the texture. This is also the ability to specify a bump map file.
This format is not as all-encompassing as it could be. This is intentional, as one of the major aims is for it to be simple to parse.</p>
<hr class="footer-hr"/><p class="footer-p">Please let us know if you find any mistakes, inconsistencies, or confusing language in this or any other CS 1230 document by filling out our <a href="https://forms.gle/ZYY519pzSvu8YaZK6" target="_blank">anonymous feedback form</a>.</p></main></div>
        </div>
      <script id="vite-plugin-ssr_pageContext" type="application/json">{"pageContext":{"_pageId":"/pages/docs/scenefile-documentation"}}</script><script type="module" src="/assets/entry-client-routing.57f4ea7f.js" async></script><link rel="modulepreload" as="script" type="text/javascript" href="/assets/pages/docs/scenefile-documentation.page.903322d1.js"><link rel="modulepreload" as="script" type="text/javascript" href="/assets/chunk-47a93a9e.js"><link rel="modulepreload" as="script" type="text/javascript" href="/assets/chunk-9ad3b198.js"><link rel="modulepreload" as="script" type="text/javascript" href="/assets/renderer/_default.page.client.bf9d5346.js"><link rel="modulepreload" as="script" type="text/javascript" href="/assets/entry-client-routing.57f4ea7f.js"><link rel="modulepreload" as="script" type="text/javascript" href="/assets/chunk-fffd8fac.js"></body>
    </html>